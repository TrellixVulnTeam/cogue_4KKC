<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation and configure of queueing system &#8212; cogue 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.6/cosmo/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="cogue 0.1 documentation" href="index.html" />
    <link rel="up" title="Installation" href="install.html" />
    <link rel="next" title="Environment setups" href="environment-setup.html" />
    <link rel="prev" title="Installation" href="install.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Cogue</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="vasp_interface.html">VASP interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_line_tool.html">Command line tools</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Installation and configure of queueing system</a><ul>
<li><a class="reference internal" href="#installation-of-grid-engine">Installation of Grid Engine</a></li>
<li><a class="reference internal" href="#configuration-of-grid-engine">Configuration of Grid Engine</a></li>
<li><a class="reference internal" href="#configuration-of-parallel-environment">Configuration of parallel environment</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="install.html" title="Previous Chapter: Installation"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Installation</span>
    </a>
  </li>
  <li>
    <a href="environment-setup.html" title="Next Chapter: Environment setups"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Environment s... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="installation-and-configure-of-queueing-system">
<span id="qsystem"></span><h1>Installation and configure of queueing system<a class="headerlink" href="#installation-and-configure-of-queueing-system" title="Permalink to this headline">¶</a></h1>
<p>Queueing system is one of the most important component of the Cogue
package. Probably researchers around first-principles calculation are
familiar with how to use queueing systems, however may not have
experience how to build the queueing system. In fact, it is not very
difficult to install and configure a queueing system. In this section,
installation and configuration of the Grid Engine software are
explained to take Ubuntu linux as an example of the operating system.</p>
<div class="section" id="installation-of-grid-engine">
<h2>Installation of Grid Engine<a class="headerlink" href="#installation-of-grid-engine" title="Permalink to this headline">¶</a></h2>
<p>Grid Engine is in the list of Ubuntu packages. So the installation is
very simple. On the server node:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">gridengine</span><span class="o">-</span><span class="n">client</span> <span class="n">gridengine</span><span class="o">-</span><span class="n">common</span> <span class="n">gridengine</span><span class="o">-</span><span class="n">master</span> <span class="n">gridengine</span><span class="o">-</span><span class="n">qmon</span>
</pre></div>
</div>
<p>On the client nodes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">gridengine</span><span class="o">-</span><span class="n">exec</span> <span class="n">gridengine</span><span class="o">-</span><span class="n">client</span>
</pre></div>
</div>
<p>During the installation, you are asked several questions. For postfix,
you can choose no configuration. For Grid Engine, &#8216;Configure Grid
Engine automatically&#8217; is Yes. Cell name is arbitrary and &#8216;default&#8217; is
OK. Master hostname has to be resolved by <code class="docutils literal"><span class="pre">/etc/hosts</span></code> or DNS. A few
initial settings are stored under <code class="docutils literal"><span class="pre">/var/lib/gridengine</span></code> in the case
of Ubuntu linux.</p>
<p>If there is only one computer, it can behave as both server and
client simultaneously.</p>
</div>
<div class="section" id="configuration-of-grid-engine">
<h2>Configuration of Grid Engine<a class="headerlink" href="#configuration-of-grid-engine" title="Permalink to this headline">¶</a></h2>
<p>Grid Engine has a graphical user interface for the configuration
called &#8216;qmon&#8217;. On the master node, it is opened by:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">sudo</span> <span class="n">qmon</span>
</pre></div>
</div>
<p>If the master node is located on the remote place, <code class="docutils literal"><span class="pre">ssh</span> <span class="pre">-X</span></code> is used
to login the master node. Then the graphics will be forwarded to your
computer. After opening qmon, if qmon reports some
authorization problem, then you should check the hostname written in
<code class="docutils literal"><span class="pre">/var/lib/gridengine/CELL_NAME/common/act_qmaster</span></code>. If you modify
the hostname in it, you need to restart gridendinge-master by:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">sudo</span> <span class="n">service</span> <span class="n">gridengine</span><span class="o">-</span><span class="n">master</span> <span class="n">restart</span>
</pre></div>
</div>
<p>In most cases, to add to something already exists can be done from
&#8220;Modify&#8221; button, not from &#8220;Add&#8221; in qmon.  The first steps of the
configurations are as follows:</p>
<ol class="arabic simple">
<li>In &#8220;Host Configuration&#8221; -&gt; &#8220;Execution Host&#8221; tab, execution hosts
are added. The master host is probably already set as an
administration host and a submit host.</li>
<li>In &#8220;User Configuration&#8221; -&gt; &#8220;Userset&#8221; tab, users are added to the
userset &#8220;arusers&#8221;.</li>
<li>In &#8220;Queue Control&#8221; -&gt; &#8220;Cluster Queues&#8221; tab, a new cluster queue is
added.<ul>
<li>In &#8220;General Configuration&#8221; tab, the number of cores in an
execution node is specified in &#8220;Slots&#8221; field.</li>
<li>In &#8220;Use Access&#8221; tab, &#8220;arusers&#8221; is added to &#8220;Allow Access to&#8221;
field.</li>
<li>If you have already created a PE (parallel environment) object,
in &#8220;Parallel Environment&#8221; tab, the PE may be added to
&#8220;Referenced PEs&#8221; field. The configuration of PE is tricky and
will be explained in the next section.</li>
</ul>
</li>
</ol>
<p>The detailed information is found <a class="reference external" href="http://docs.oracle.com/cd/E24901_01/index.htm">here</a>.
<a class="reference external" href="http://pka.engr.ccny.cuny.edu/~jmao/node/49">This web site</a> is
helpful when starting configuration for the first time.</p>
</div>
<div class="section" id="configuration-of-parallel-environment">
<h2>Configuration of parallel environment<a class="headerlink" href="#configuration-of-parallel-environment" title="Permalink to this headline">¶</a></h2>
<p>If you want to use multi-cores on CPU or multiple computers in MPI,
you have to configure the parallel environment of grid engine.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/qsystem.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2012, Atz Togo.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.9.<br/>
    </p>
  </div>
</footer>
  </body>
</html>